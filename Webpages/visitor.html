<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Details</title>
    <link rel="stylesheet" href="visitor.css">
</head>

<body>
    <!-- NAVBAR -->
    <div class="navbar">
        <div class="logo">
            <a href="homepage.html" style="text-decoration: none; color: inherit; display: inline-block;">
                <h1 style="margin: 0;">SmartBid <span>ðŸ’¡</span></h1>
            </a>                      
        </div>
        <a href="login.html" class="login-btn">Log In</a>
    </div>

    <!-- TOP SECTION -->
    <div class="top-section">
        <!-- LEFT SECTION: IMAGE CAROUSEL -->
        <div class="left-section">
            <div class="image-carousel">
                <div class="thumbnail-container">
                    <img src="images/octopus mood.jpg" alt="Thumbnail 1" onclick="changeImage(this)">
                    <img src="images/spiral notebooks.jpg" alt="Thumbnail 2" onclick="changeImage(this)">
                    <img src="images/jade gua sha.jpg" alt="Thumbnail 3" onclick="changeImage(this)">
                    <img src="images/cucumber slicer.jpg" alt="Thumbnail 4" onclick="changeImage(this)">
                    <img src="images/crossbody bag.jpg" alt="Thumbnail 5" onclick="changeImage(this)">
                </div>
                <div class="large-image" id="displayed-image">
                    <img src="images/iphone 15.webp" alt="Large Display">
                </div>
            </div>
        </div>

        <!-- RIGHT SECTION: ITEM DETAILS -->
        <div class="right-section">
            <h2>iPhone 15 Pro Max New</h2>
            <h3>US $99.99</h3>
            <p><strong>Closes:</strong> 18d 10h (MM/DD/YYYY)</p>
            <p><strong>Category:</strong> Category Name</p>
            <p><strong>Seller:</strong> John Doe - 4.2 (10 Ratings)</p>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore 
               et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
            <button class="bid-button" onclick="window.location.href='login.html';">Start Bidding</button>
        </div>
    </div>

    <!-- BOTTOM SECTION: COMMENTS -->
    <div class="bottom-section">
        <!-- COMMENT INPUT SECTION -->
        <div class="comment-input">
            <input type="text" placeholder="Leave a comment as a Visitor">
            <div class="comment-buttons">
                <button class="cancel-button" onclick="clearComment()">Cancel</button>
                <button class="comment-button" onclick="addComment()">Comment</button>
            </div>            
        </div>

        <!-- COMMENTS DISPLAY SECTION -->
        <div class="comments">
            <div class="comment">
                <p><strong>Srewashi Mondal</strong></p>
                <p>This product is nice.</p>
            </div>
            <div class="comment">
                <p><strong>Saanavi Goyal</strong></p>
                <p>This item is great! :D</p>
            </div>
            <div class="comment">
                <p><strong>Debasree Sen</strong></p>
                <p>This was a lifesaver! :)</p>
            </div>
        </div>
    </div>

    <script>
        function changeImage(thumbnail) {
            // Get the larger image element
            const largeImage = document.querySelector("#displayed-image img");

            // Update the src of the larger image
            largeImage.src = thumbnail.src;

            // Remove the active class from all thumbnails
            document.querySelectorAll(".thumbnail-container img").forEach(img => {
                img.classList.remove("active");
            });

            // Add the active class to the clicked thumbnail
            thumbnail.classList.add("active");
        }

        function addComment() {
            const commentInput = document.querySelector(".comment-input input[type='text']");
            const commentsContainer = document.querySelector(".comments");
            const commentText = commentInput.value.trim();

            if (commentText) {
                // Create a new comment div
                const newComment = document.createElement("div");
                newComment.classList.add("comment");

                // Add author and timestamp
                const authorPara = document.createElement("p");
                authorPara.innerHTML = `<strong>Visitor</strong>`;

                // Add comment text
                const textPara = document.createElement("p");
                textPara.textContent = commentText;

                // Append all parts to the new comment div
                newComment.appendChild(authorPara);
                newComment.appendChild(textPara);

                // Insert the new comment at the top of the comments container
                commentsContainer.insertBefore(newComment, commentsContainer.firstChild);

                // Store the last added comment for undo
                lastComment = newComment;

                // Clear the input field
                commentInput.value = "";
            } else {
                alert("Please enter a comment.");
            }
        }

        function clearComment() {
            const commentInput = document.querySelector(".comment-input input[type='text']");
            const commentsContainer = document.querySelector(".comments");

            // Clear the input field
            commentInput.value = "";
        }
    </script> 
</body>
</html>
