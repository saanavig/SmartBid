<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBid Home</title>
    <link rel="stylesheet" href="account.css">
</head>
<body>
    <!-- NAVBAR -->
    <div class="navbar">
        <div class="logo">
            <a href="homepage.html" style="text-decoration: none; color: inherit; display: inline-block;">
                <h1 style="margin: 0;">SmartBid <span>ðŸ’¡</span></h1>
            </a>                      
        </div>
        
        <!-- DROPDOWN FOR USER OPTIONS -->
        <div class="dropdown">
            <a class="login-btn">You</a>
            <div class="dropdown-content">
                <a href="dashboard.html">Dashboard</a>
                <a href="profile.html">Profile</a>
                <a href="signout.html">Sign Out</a>
            </div>
        </div>
    </div>

    <!-- MY ACCOUNT CONTENT -->
    <div class="account-container">
        <div class="account-title">
            <h1>My Account</h1>
        </div>

        <!-- ACCOUNT INFORMATION CONTENT -->
        <div class="account-info">
            <h2>Account Information</h2>
            <div class="info-field">
                <label for="first-name">First Name:</label>
                <input type="text" id="first-name" value="John" disabled>
            </div>
            <div class="info-field">
                <label for="last-name">Last Name:</label>
                <input type="text" id="last-name" value="Doe" disabled>
            </div>
            <div class="info-field">
                <label for="email">Email:</label>
                <input type="email" id="email" value="john.doe@example.com" disabled>
            </div>
            <div class="info-field">
                <label for="username">Username:</label>
                <input type="text" id="username" value="johndoe" disabled>
            </div>
            <div class="info-field">
                <label for="shipping-address">Shipping Address:</label>
                <input type="text" id="shipping-address" value="123 Main St, Anytown, USA" disabled>
            </div>
            <div class="info-field">
                <label for="current-password">Password:</label>
                <input type="text" id="password" value="password123" disabled>
            </div>
            
            <div class="buttons">
                <button class="edit-btn">Edit</button>
                <button id="save-btn" style="display: none;">Save</button>
                <button id="cancel-btn" style="display: none;">Cancel</button>
            </div>
        </div>

        <!-- ACCOUNT BALANCE CONTENT -->
        <div class="account-balance">
            <h2>Account Balance</h2>
            <div class="balance-field">
                <p id="current-balance">Current Balance: $<span id="balance">0.00</span></p>
            </div>
            <div class="amount-input">
                <input type="number" id="amount" placeholder="Enter transfer amount" />
            </div>
            <button class="deposit-btn" onclick="deposit()">Deposit</button>
            <button class="withdraw-btn" onclick="withdraw()">Withdraw</button>
            <p id="message"></p>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const editBtn = document.querySelector('.edit-btn');
            const saveBtn = document.getElementById('save-btn');
            const cancelBtn = document.getElementById('cancel-btn');
            const inputFields = document.querySelectorAll('.info-field input');
            const balanceDisplay = document.getElementById('balance'); // Get the balance display element
    
            editBtn.addEventListener('click', () => {
                inputFields.forEach(input => input.disabled = false);
                editBtn.style.display = 'none';
                saveBtn.style.display = 'inline';
                cancelBtn.style.display = 'inline';
            });
    
            saveBtn.addEventListener('click', () => {
                inputFields.forEach(input => input.disabled = true);
                editBtn.style.display = 'inline';
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
            });
    
            cancelBtn.addEventListener('click', () => {
                inputFields.forEach(input => input.disabled = true);
                editBtn.style.display = 'inline';
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';
            });
    
            // DEPOSIT
            window.deposit = function() {
                const amountInput = document.getElementById('amount');
                const amount = parseFloat(amountInput.value);
                const currentBalance = parseFloat(balanceDisplay.innerText);
    
                if (!isNaN(amount) && amount > 0) {
                    const newBalance = currentBalance + amount;
                    balanceDisplay.innerText = newBalance.toFixed(2); // Update balance
                    amountInput.value = ''; // Clear input
                    document.getElementById('message').innerText = 'Deposit successful!';
                } else {
                    document.getElementById('message').innerText = 'Please enter a valid amount.';
                }
            };
    
            // WITHDRAW
            window.withdraw = function() {
                const amountInput = document.getElementById('amount');
                const amount = parseFloat(amountInput.value);
                const currentBalance = parseFloat(balanceDisplay.innerText);
    
                if (!isNaN(amount) && amount > 0) {
                    if (amount <= currentBalance) {
                        const newBalance = currentBalance - amount;
                        balanceDisplay.innerText = newBalance.toFixed(2); // Update balance
                        amountInput.value = ''; // Clear input
                        document.getElementById('message').innerText = 'Withdrawal successful!';
                    } else {
                        document.getElementById('message').innerText = 'Insufficient balance.';
                    }
                } else {
                    document.getElementById('message').innerText = 'Please enter a valid amount.';
                }
            };
        });
    </script>
</body>
</html>

<!-- 
GENERAL NOTES:
 - You Dropdown: My Profile & Sign Out do not work yet.
 
MY ACCOUNT NOTES:
 - All the information the user made when logging in must show up here.
 - When a user edits and then saves their information, new information must be saved in the database.
 - A user's current account balance needs to be up to date.
 - When a user deposits or withdraws money, it must be reflected in their new saved current balance.
 - When a user spends or earns money for bidding, it must be reflected here.
-->